# npm 全局或本地包

本地包和全局包之间的主要区别是：

- **本地包**安装在你运行`npm install <package-name>`的目录中，并且它们被放在该目录下的`node_modules`文件夹中
- **全局包**都放在系统中的一个位置（具体位置取决于您的设置），无论您在哪里运行 `npm install -g <package-name>`

在您的代码中，您只能需要本地包：

```js
require('package-name');
```

那么什么时候应该以一种或另一种方式安装呢？

一般来说，**所有包都应该安装在本地**。

这样可以确保您的计算机中可以有数十个应用程序，如果需要，所有应用程序都运行每个包的不同版本。

更新全局包将使您的所有项目都使用新版本，并且您可以想象这可能会导致维护方面的噩梦，因为某些包可能会破坏与其他依赖项的兼容性，等等。

所有项目都有自己的本地版本的包，即使这看起来像是一种资源浪费，但与可能的负面后果相比，它是微不足道的。

一个包**应该被全局安装**，当它提供一个你从 shell (CLI) 运行的可执行命令，并且它被跨项目重用时。

您还可以在本地安装可执行命令并使用 npx 运行它们，但有些包最好全局安装。

您可能知道的流行的全球软件包的很好的例子是

- `npm`

- `vue-cli`
- `grunt-cli`
- `mocha`
- `react-native-cli`
- `gatsby-cli`
- `forever`
- `nodemon`

您可能已经在系统上全局安装了一些软件包。你可以通过运行看到它们

```bash
npm list -g --depth 0
```

在你的命令行上。